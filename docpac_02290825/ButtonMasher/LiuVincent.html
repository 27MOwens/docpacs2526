
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>butotuotjn j masher</title>
</head>
<body>
    <div id="score"></div>
    <div id="timer"></div>
    <div id="directionBox"></div>

    <script>
        let score = 0;
        document.getElementById("score").innerHTML = score;
        let direction = 0;
        let timer = 20;
        let directionBox = document.getElementById("directionBox");
        let buttonPressed = false;

        // make timer decrease ðŸ¤£ðŸ¤£ðŸ¤£
        function timerDec () {
            if (timer > 0) {
                timer--;
                document.getElementById("timer").innerHTML = timer;
            } else {
                document.getElementById("timer").innerHTML = "TIME'S UP!";
            }
        }

        // timer display so it instantly shows upðŸ˜Ž
        function timerS () {
            document.getElementById("timer").innerHTML = "Time: " + timer;
        }

        // directional change ig...ðŸ˜”ðŸ˜”ðŸ˜”
        function directionChange () {
            direction = Math.floor(Math.random()*4);
            if (direction === 0) {
                directionBox.innerHTML = "UP";
                console.log("UP");
            } else if (direction === 1) {
                directionBox.innerHTML = "DOWN";
                console.log("DOWN");
            } else if (direction === 2) {
                directionBox.innerHTML = "LEFT";
                console.log("LEFT");
            } else if (direction === 3) {
                directionBox.innerHTML = "RIGHT";
                console.log("RIGHT");
            }
        }
        
        function gameLoop() {
        const gamepads = navigator.getGamepads(); 
        for (let i = 0; i < gamepads.length; i++) {
            const gp = gamepads[i];
            if (gp) {
                const aButton = gp.buttons[0]; 
                const [leftStickX, leftStickY] = gp.axes;
                if (aButton.pressed && !buttonPressed) {
                    buttonPressed = true;

                    if (direction === 0 && gp.axes[1] <= -1) { 
                        score++;
                        document.getElementById("score").innerHTML = score;
                        console.log("Correct! Direction: UP");
                    } else if (direction === 1 && gp.axes[1] >= 1) { 
                        score++;
                        document.getElementById("score").innerHTML = score;
                        console.log("Correct! Direction: DOWN");
                    } else if (direction === 2 && gp.axes[0] <= -1) { 
                        score++;
                        document.getElementById("score").innerHTML = score;
                        console.log("Correct! Direction: LEFT");
                    } else if (direction === 3 && gp.axes[0] >= 1) { 
                        score++;
                        document.getElementById("score").innerHTML = score;
                        console.log("Correct! Direction: RIGHT");
                    }
                }
                if (!aButton.pressed) {
                    buttonPressed = false; 
                }
                
        }
    } // Closing brace for gameLoop function
    requestAnimationFrame(gameLoop); // Continue the game loop
}
        gameLoop();
        timerS();
        directionChange();
        setInterval(timerDec, 1000);
        setInterval(directionChange, 2000);
    </script>
</body>
</html>